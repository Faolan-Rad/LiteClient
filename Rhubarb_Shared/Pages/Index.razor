@page "/"
@inject RhubarbAPIClient client
@inject Localisation loc
@inject NavigationManager nav

<LoadingScreen></LoadingScreen>

@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);
        client.OnLogin += (use) =>
        {
            nav.NavigateTo("/Client/@me");
        };
        if(client.IsLogin){
            nav.NavigateTo("/Client/@me");
        }
    }
}